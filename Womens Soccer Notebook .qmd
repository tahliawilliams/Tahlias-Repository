---
title: "Women's Soccer Data"
---

We'll use this notebook to explore some NCAA women's soccer data and [our questions](https://docs.google.com/spreadsheets/d/1G1AjH2iS6kj3kKHCRi0XVy5Lcm-rahJkeTAToVh9J1g/edit?gid=0#gid=0). First, let's load the tidyverse library:

```{r}
library(tidyverse)
```

We'll want to start with 2025 match data, which is located in [this GitHub repository](https://github.com/dwillis/NCAAWomensSoccerData). We can load the match data directly from GitHub using `read_csv`:


```{r}
matches_2025 <- read_csv("https://raw.githubusercontent.com/dwillis/NCAAWomensSoccerData/main/data/ncaa_womens_soccer_matchstats_2025.csv") |> mutate(diff = team_score - opponent_score)
```

Let's take a look at this data to see what it contains, using `head` and `glimpse`:

```{r}
head(matches_2025)
glimpse(matches_2025)
```

Now, onto the questions using aggregates, which means `group_by` and `summarize`:

1. How many shots in total has Maryland attempted and how many have been on goal? Calculate a percentage of shots on goal.

```{r}
matches_2025 |> 
  #filter(team == "Maryland Terrapins, Terps")
  group_by(team) |> 
  summarise(
    
    
  )
```


```{r}
ncaa_womens_soccer_playerstats_2024 |>
  group_by(team) |>
  summarise(
    total_shots = sum(sh_att, na.rm = TRUE),
    shots_on_goal = sum(so_g, na.rm = TRUE),
    pct_on_goal = (shots_on_goal / total_shots) * 100
  ) |>
  arrange(desc(pct_on_goal))

  library(dplyr)

maryland_stats |>
  filter(team == "Maryland Terrapins, Terps") |>
  summarise(
    total_shots = sum(sh_att, na.rm = TRUE),
    total_shots_on_goal = sum(so_g, na.rm = TRUE),
    pct_on_goal = total_shots_on_goal / total_shots * 100
  )

```

2. What about the same shot stats from last season's first four games? You'll need to load the matches from 2024 - just change the season in the URL - and filter by date to find the first four games.

```{r}
first4_games |>
  summarise(
    total_shots = sum(sh_att, na.rm = TRUE),
    total_shots_on_goal = sum(so_g, na.rm = TRUE),
    pct_on_goal = total_shots_on_goal / total_shots * 100
  )

```


3. Maryland started 2022 with 4 draws. Have any other teams had as many this season? Yes, alot of schools had 4 or more draws, for example The Albilene Christian Wildcats, Airforce Falcons, American Eagles, App State Mountaneiirs, Arkansas Razorbacks, Amy West Point Black Knights Auburn Tigers Austin Peay Governors, BYU Cougards Ball St. Cardinals, Bellarmine Knights, Colorodo Col. Tigers, etc.  But Canisius Golden Griffins, Pacific Tigers, Bellarmine Knights, New Mexico Lobos, Ball St. Cardinals, Colorado St. Rams, Creighton Bluejays, Eastern Ill. Panthers, San Diego St. Aztecs, UNI Panthers, Utah St. Aggies, Canisius Golden Griffins VCU Rams, and Army West Point Black Knights have the most draws all season. 


```{r}
library(dplyr)
matches_2025 |> 
  filter(outcome == "Draw")
group_by(team) |>
  summarize (draws = n()) |>
  filter(draws >=4) |>
  arrage(desc(draws))




  
```


4. How many total corner kicks has Maryland had so far this season and how many have its opponents have? Calculate the difference between the two totals for every team using group_by, summarize and mutate, then filter to find Maryland's totals.

```{r}

library(dplyr)

corner_totals <- ncaa_womens_soccer_matchstats_2025 |>
  group_by(team) |>
  summarise(
    total_team_corners = sum(corners, na.rm = TRUE),
    total_opp_corners = sum(defensive_corners, na.rm = TRUE)
  ) |>
  mutate(corner_difference = total_team_corners - total_opp_corners) |>
  filter(team == "Maryland Terrapins, Terps")  

corner_totals

```

5. What's the most interesting thing you've seen from these questions?
Exploring the stats for the NCAA women's soccer teams has been really interesting to me in observing how different teams approach the game and where Maryland stands in comparison. Looking at corner kicks, it really highlughted how much control Maryland has in certain games, showing to have more corners than opponents shows they are consistently creating offensive oppurtunities. Another interesting pattern I learned was the draws. Maryland had a few early on (5 in total) but it was suprising to see several other teams that ended up with even more draws over the whole season. Overall, the numbers and stats proves how the game is strategic and how you are able to start to notice trends that arent obvious just by watching the game. 
```{r}
swac_teams <- c("Alabama A&M Bulldogs", "Alabama St. Lady Hornets", "Alcorn Lady Braves", "Ark.-Pine Bluff Lady Lions", "Grambling Lady Tigers", "Jackson St. Lady Tigers", "Mississippi Val. Devilettes", "Prairie View Lady Panthers", "Southern U. Lady Jaguars", "Texas Southern Lady Tigers")

swac_matches <- matches_2025 |> 
  filter(team %in% swac_teams)

matches_2025 |> 
  summarise(
    mean_diff = mean(diff),
    mean_opp_goals = mean(defensive_goals),
    mean_sog = mean(so_g),
    mean_opp_sog = mean(defensive_so_g)
    )

swac_matches |> 
  summarise(
    mean_diff = mean(diff),
    mean_opp_goals = mean(defensive_goals),
    mean_sog = mean(so_g),
    mean_opp_sog = mean(defensive_so_g)
    )
big10_matches |> 
  summarise(
    mean_diff = mean(diff),
    mean_opp_goals = mean(defensive_goals),
    mean_sog = mean(so_g),
    mean_opp_sog = mean(defensive_so_g)
    )

big10 <- c("Nebraska Huskers", "Iowa Hawkeyes", "Minnesota Golden Gophers", "Illinois Fighting Illini", "Northwestern Wildcats", "Wisconsin Badgers", "Indiana Hoosiers", "Purdue Boilermakers", "Ohio St. Buckeyes", "Michigan Wolverines", "Michigan St. Spartans", "Penn St. Nittany Lions", "Rutgers Scarlet Knights", "Maryland Terrapins, Terps", "Southern California Trojans", "UCLA Bruins", "Washington Huskies", "Oregon Ducks")

big10_matches <- matches_2025 |> 
  filter(team %in% big10)

big10_matches |> 
  group_by(team)|> 
  summarise(
    mean_diff = mean(diff),
    mean_opp_goals = mean(defensive_goals),
    mean_sog = mean(so_g),
    mean_opp_sog = mean(defensive_so_g)
    ) |> 
  arrange(desc(mean_diff))

```

