---
title: "QUESTIONS."
author: "Tahlia Williams"
date: '2025-10-09'
categories: [lowercaseword, lowercaseword, lowercaseword]
image: "image.png"
format: 
  html:
    code-fold: true
---


```{r}
library(tidyverse)

Football_data <- read_csv("https://dwillis.github.io/sports-data-files/footballlogs1124.csv")
```
```{r}
glimpse(Football_data)
```

Question: How do total penalty yards per game for college football teams correlate with their likelihood of winning, and how do factors like turnovers, opponent strength, or home/away status affect this relationship?


Does the data alreadt exist? Can you get it?
Yes, game by game college football data is avaliable from NCAA Stats, ESPN, and Sports Reference, including penalty yars, points scored, turnovers, and game outcomes

Do you need assistance getting it?
Potentially if using tables is needed. Otherwise, CSV downloads are avaliable 

Time frame needed: The last five seasons (2019-2025) to capture recent trends

Will you need to improve or augment the data? Yes, I may need to combine multiple sources, and use that to identify penalties, points, and turnovers in columns. 

Other examples: Sports blogs examine penalties, turnovers, and win probability like Football Outsiders, The Last Man Analytics and The Extra Point. 

```{r}
Football_data |> 
  group_by(Opponent) |> 
summarise(Game = n()) |>
  arrange(desc(Game))
            
```



```{r}
Football_data |> 
  group_by(Outcome) |> 
  summarise(Game = n())
```

```{r}
Football_data |> 
  ggplot(aes(x = Outcome, fill = Outcome)) +
  geom_bar() +
  labs(title = "Distribution of Game Outcomes",
       x = "Outcome",
       y = "Number of Games") +
  theme_minimal()

```

A challenge I encountered is that the dataset doesn't include consistent formatting and is missing thr values for team names and other stats. Additionally, because the data is only data from games, I may need to merge it with another data set to answer a broader question. 

```{r}
library(tidyverse)

attendance <- read_csv("https://dwillis.github.io/sports-data-files/attendance.csv")
```

```{r}
library(tidyverse)
Football_data <- read_csv("https://dwillis.github.io/sports-data-files/footballlogs1124.csv")
```
```{r}
url <- "https://www.teamrankings.com/college-football/stat/penalty-yards-per-game"

webpage <- read_html(url)

penalty_data <- webpage |> 
  html_element("table") |> 
  html_table()

head(penalty_data)
```
```{r}
penalty_data_clean_24_25 <- penalty_data |> 
  rename(
    Rank = Rank,
    Team = Team,
    PenaltyYards2025 = `2025`,
    Last3 = `Last 3`,
    Last1 = `Last 1`,
    Home = Home,
    Away = Away,
    PenaltyYards2024 = `2024`
  ) 
  mutate

penalty_data_clean_24_25 <- penalty_data_clean_24_25 
  mutate

head(penalty_data_clean_24_25)

```
```{r}

url <- "https://www.teamrankings.com/college-football/stat/penalty-first-downs-per-game"
webpage <- read_html(url)

penalty_first_down_data <- webpage |> 
  html_element("table") |> 
  html_table()

head(penalty_first_down_data)
webpage <- read_html(url)

penalty_first_down_data <- webpage |> 
  html_element("table") |> 
  html_table()

head(penalty_first_down_data)
```

```{r}
penalty_first_downs_clean <- penalty_first_down_data |> 
  rename(
    Rank = Rank,
    Team = Team,
    PFD_perGame_2025 = `2025`,
    PFD_Last3 = `Last 3`,
    PFD_Last1 = `Last 1`,
    PFD_Home = Home,
    PFD_Away = Away,
    PFD_perGame_2024 = `2024`
  ) 
  mutate
    

head(penalty_first_downs_clean)


```

```{r}
url <- "https://www.teamrankings.com/college-football/stat/interceptions-thrown-per-game"
webpage <- read_html(url)

interceptions_per_game <- webpage |> 
  html_element("table") |> 
  html_table()

head(interceptions_per_game)
webpage <- read_html(url)

penalty_first_down_data <- webpage |> 
  html_element("table") |> 
  html_table()

head(interceptions_per_game)
```
```{r}
interceptions_per_game_clean <- interceptions_per_game |> 
  rename(
    Rank = Rank,
    Team = Team,
    PFD_perGame_2025 = `2025`,
    PFD_Last3 = `Last 3`,
    PFD_Last1 = `Last 1`,
    PFD_Home = Home,
    PFD_Away = Away,
    PFD_perGame_2024 = `2024`
  ) 
  mutate
    

head(interceptions_per_game_clean)
```
```{r}
url <- "https://www.teamrankings.com/college-football/stat/turnover-margin-per-game"
webpage <- read_html(url)

turnover_margin_per_game <- webpage |> 
  html_element("table") |> 
  html_table()

head(turnover_margin_per_game)
webpage <- read_html(url)

turnover_margin_per_game <- webpage |> 
  html_element("table") |> 
  html_table()

head(turnover_margin_per_game)
```
```{r}
turnover_margin_per_game_clean <- turnover_margin_per_game |> 
  rename(
    Rank = Rank,
    Team = Team,
    PFD_perGame_2025 = `2025`,
    PFD_Last3 = `Last 3`,
    PFD_Last1 = `Last 1`,
    PFD_Home = Home,
    PFD_Away = Away,
    PFD_perGame_2024 = `2024`
  ) 
  mutate
    

head(turnover_margin_per_game_clean)
```
```{r}
url <- "https://www.teamrankings.com/college-football/stat/points-per-game"
webpage <- read_html(url)

points_per_game <- webpage |> 
  html_element("table") |> 
  html_table()

head(points_per_game)
webpage <- read_html(url)

points_per_game <- webpage |> 
  html_element("table") |> 
  html_table()

head(points_per_game)
```
```{r}
points_per_game_clean <- points_per_game |> 
  rename(
    Rank = Rank,
    Team = Team,
    PFD_perGame_2025 = `2025`,
    PFD_Last3 = `Last 3`,
    PFD_Last1 = `Last 1`,
    PFD_Home = Home,
    PFD_Away = Away,
    PFD_perGame_2024 = `2024`
  ) 
  mutate
    

head(points_per_game_clean)
```
```{r}
url <- "https://www.teamrankings.com/college-football/stat/yards-per-point"
webpage <- read_html(url)

yards_per_point <- webpage |> 
  html_element("table") |> 
  html_table()

head(yards_per_point)
webpage <- read_html(url)

yards_per_point <- webpage |> 
  html_element("table") |> 
  html_table()

head(yards_per_point)
```
```{r}
yards_per_point_clean <- yards_per_point |> 
  rename(
    Rank = Rank,
    Team = Team,
    PFD_perGame_2025 = `2025`,
    PFD_Last3 = `Last 3`,
    PFD_Last1 = `Last 1`,
    PFD_Home = Home,
    PFD_Away = Away,
    PFD_perGame_2024 = `2024`
  ) 
  mutate
    

head(yards_per_point_clean)
```
```{r}

ggplot(penalty_first_downs_clean, aes(
  x = reorder(Team, PFD_perGame_2025),
  y = PFD_perGame_2025,
  fill = Team
)) +
  geom_col(show.legend = FALSE) +
  coord_flip() +
  geom_text(aes(label = round(PFD_perGame_2025, 2)),
            hjust = -0.1,
            size = 3.5) +
  labs(
    title = "Penalty First Downs per Game by Team (2025)",
    x = "Team",
    y = "Penalty First Downs per Game"
  ) +
  theme_minimal(base_size = 13)

```


```{r}
penalty_first_downs_clean <- penalty_first_downs_clean |>
  mutate(PFD_perGame_2025 = as.numeric(PFD_perGame_2025)
                                       

                                       
                                       
                                       top_penalty_teams <- penalty_first_downs_clean |>
  slice_max(order_by = PFD_perGame_2025, n = 10)

top_penalty_teams |> 
  ggplot(aes(x = PFD_perGame_2025, fill = Team)) +
  geom_bar() +
  labs(title = "Top 10 Teams: Penalty First Downs per Game (2025)",
       x = "Team",
       y = "Penalty First Downs per Game") +
  theme_minimal()




```
This chart highlights the top teams benefiting from penalty first downs per game, including teams like Baylor, Delaware, and LSU. These are teams that consistently gain extra opportunities through opponent mistakes, which could could contribute to sustained drives and scoring chances. However, without turnover or yardage data, it's hard to confirm whether these additional first downs directly lead to more wins. 
```{r}
penalty_first_downs_clean |> 
  ggplot(aes(x = PFD_Home, y = PFD_Away)) +
  geom_point() +
  geom_abline(slope = 1, intercept = 0, linetype = "dashed") +
  labs(title = "Penalty First Downs: Home vs Away")
```
This comparison between home and away penaltt first downs shows a balanced trend with most points scattered around the diagonal line. However, there is no major skew toward home teams, which sugests that home field advantages dont signifigantly affect how many first downs teams earn from penalties. The variation around the line implies that certain teams or matchups may experience inconsistent officiating or discipline, especially on the road

```{r}
penalty_first_downs_clean |> 
  ggplot(aes(x = PFD_perGame_2024, y = PFD_perGame_2025)) +
  geom_point() +
  geom_abline(slope = 1, intercept = 0, linetype = "dashed") +
  labs(title = "Penalty First Downs: 2024 vs 2025")
```

The scatter plot comparing year by year characteristics shows no strong trend of points. The points are widely scattered around the dash line. This would demonstrate that penalty first downs dont remain consistent year to year for most teams. Factors like coaching changes or rules may explain these changes. Due to the trend line not following a tight correlation, it suggests that penalties alone are not a stable predictor of team performance or winning percentages over time.
```{r}
ncaafb <- data.frame(
  Rank = 1:30,
  Team = c("Penn St", "Texas Tech", "Texas", "Navy", "San Diego St", 
           "Ohio St", "Army", "Michigan", "Old Dominion", "Rice", 
           "Kansas St", "Washington", "Wisconsin", "Virginia", "TCU", 
           "Texas St", "Buffalo", "Oregon", "Kennesaw St", "Missouri",
           "Virginia Tech", "N Illinois", "Florida Intl", "Temple", 
           "Miami", "Mississippi St", "Miami OH", "Liberty", "Toledo", "Oklahoma"),
  Conference = c("Big Ten", "Big 12", "Big 12", "AAC", "Mountain West", 
                 "Big Ten", "AAC", "Big Ten", "Sun Belt", "AAC", 
                 "Big 12", "Pac-12", "Big Ten", "ACC", "Big 12", 
                 "Sun Belt", "MAC", "Pac-12", "Sun Belt", "SEC",
                 "ACC", "MAC", "CUSA", "AAC", 
                 "ACC", "SEC", "MAC", "CUSA", "MAC", "Big 12"),
  PFD_perGame_2025 = c(0.5, 0.5, 0.6, 0.6, 0.6, 0.7, 0.7, 0.7, 0.8, 0.8,
                       0.8, 0.8, 0.9, 1.0, 1.0, 1.0, 1.2, 1.2, 1.2, 1.2,
                       1.2, 1.2, 1.2, 1.2, 1.2, 1.3, 1.3, 1.3, 1.3, 1.3),
  PFD_Last3 = c(0.7, 0.3, 0.7, 0.7, 1.0, 0.0, 1.3, 0.3, 1.0, 1.3,
                1.7, 1.0, 0.3, 0.3, 0.7, 0.7, 1.7, 1.3, 1.3, 0.7,
                1.0, 1.3, 1.7, 1.0, 1.3, 2.0, 1.7, 1.3, 1.3, 1.0),
  PFD_Last1 = c(1, 1, 1, 1, 0, 0, 2, 0, 1, 1, 1, 0, 1, 0, 1, 1, 2, 3, 1, 2,
                2, 0, 1, 0, 2, 1, 1, 2, 2, 2),
  PFD_Home = c(0.3, 0.7, 0.7, 0.3, 0.0, 1.0, 0.5, 0.5, 1.5, 1.0,
               0.7, 0.7, 1.2, 1.3, 1.3, 0.5, 1.3, 0.7, 1.0, 1.0,
               1.0, 1.5, 1.0, 1.3, 1.3, 1.3, 1.0, 2.0, 1.3, 1.3),
  PFD_Away = c(1.0, 0.3, 0.5, 1.0, 1.0, 0.3, 0.8, 1.0, 0.5, 0.8,
               1.0, 1.0, 0.0, 0.5, 0.7, 1.3, 1.0, 1.7, 1.3, 2.0,
               1.3, 1.0, 1.3, 1.0, 1.0, 1.3, 1.5, 1.0, 1.3, 1.3),
  PFD_perGame_2024 = c(1.4, 1.7, 1.8, 0.9, 2.0, 0.9, 1.2, 1.1, 1.2, 1.9,
                        0.9, 1.2, 1.7, 1.7, 1.4, 1.5, 1.4, 1.6, 1.4, 1.3,
                        1.8, 2.3, 1.5, 1.3, 1.8, 2.5, 1.2, 1.7, 2.4, 2.3)
)
library(ggplot2)

ggplot(ncaafd, aes(x = Conference, y = PFD_perGame_2025, fill = Conference)) +
  geom_col() +
  theme_minimal() +
  coord_flip()

```
This chart shows that penalty first downs per game which vary across conferences. The Mid American Conference leads with the highest average, meaning teams in this conference benefit most from opponent penalties that extend their drives. On the other hand, Mountain West teams gain the fewest first downs from penalties. This would say that conference styles may influence how teams recieve penalty advantages, which could impact game outcomes indirectly.

```{r}
library("tidyverse")
fb_24 <- read_csv("footballlogs24 (6).csv")
```






